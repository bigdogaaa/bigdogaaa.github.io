   name: Deploy Quartz site to GitHub Pages
   
   on:
     push:
       branches:
         - main
   
   permissions:
     contents: read
     pages: write
     id-token: write
   
   jobs:
     build:
       runs-on: ubuntu-latest
       steps:
         - uses: actions/checkout@main
           with:
             fetch-depth: 0  # 获取全部历史，用于git log统计等功能
         - name: Setup Node
           uses: actions/setup-node@main
           with:
             node-version: 22
         - name: Install Dependencies
           run: npm ci
         - name: Build Quartz
           run: npx quartz build
         - name: Upload artifact
           uses: actions/upload-pages-artifact@main
           with:
             path: public
   
     deploy:
       needs: build
       runs-on: ubuntu-latest
       environment:
         name: github-pages
         url: ${{ steps.deployment.outputs.page_url }}
       steps:
         - name: Deploy to GitHub Pages
           id: deployment
           uses: actions/deploy-pages@main